<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
<script src="js/imagesloaded.pkgd.min.js"></script>
<script src="js/masonry.pkgd.min.js"></script>
<script src=""></script>
<h1>Masonry - imagesLoaded progress</h1>
<style>
	* { box-sizing: border-box; }

	/* force scrollbar */
	html { overflow-y: scroll; }

	body { font-family: sans-serif; }

	/* ---- grid ---- */

	.grid {
		background: #DDD;
	}

	/* clear fix */
	.grid:after {
		content: '';
		display: block;
		clear: both;
	}

	/* ---- .grid-item ---- */

	.grid-sizer,
	.grid-item {
		width: 33.333%;
	}

	.grid-item {
		float: left;
	}

	.grid-item img {
		display: block;
		max-width: 100%;
	}

</style>
<div class="grid">
	<div class="grid-sizer"></div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/orange-tree.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/submerged.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/look-out.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/one-world-trade.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/drizzle.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/cat-nose.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/contrail.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/golden-hour.jpg" />
	</div>
	<div class="grid-item">
		<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/flight-formation.jpg" />
	</div>
</div>
<script>
    // external js: masonry.pkgd.js, imagesloaded.pkgd.js

    // init Masonry
    var $grid = $('.grid').masonry({
        itemSelector: '.grid-item',
        percentPosition: true,
        columnWidth: '.grid-sizer'
    });
    // layout Masonry after each image loads
    $grid.imagesLoaded().progress( function() {
        $grid.masonry();
    });

</script>